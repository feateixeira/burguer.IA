# üîç Como Verificar e Corrigir a Edge Function create-user

## ‚ö†Ô∏è ERRO 404 - Edge Function n√£o encontrada

Se voc√™ est√° recebendo erro 404, significa que a Edge Function n√£o est√° acess√≠vel. Siga estes passos:

---

## ‚úÖ VERIFICA√á√ÉO PASSO A PASSO

### 1. Verificar se a fun√ß√£o existe
1. Acesse **Supabase Dashboard** ‚Üí **Edge Functions**
2. Procure por `create-user` na lista
3. Se N√ÉO encontrar, crie uma nova fun√ß√£o

### 2. Se a fun√ß√£o EXISTE mas est√° dando 404:
1. Clique na fun√ß√£o `create-user`
2. Clique em **"Deploy"** ou **"Redeploy"** para garantir que est√° ativa
3. Verifique se h√° algum erro de sintaxe mostrado na tela

### 3. Verificar o nome da fun√ß√£o
- Deve ser exatamente: `create-user` (com h√≠fen, n√£o underscore)
- N√ÉO pode ser: `create_user` ou `createUser`
- O nome √© case-sensitive

### 4. Verificar vari√°veis de ambiente
Na fun√ß√£o `create-user`:
- Settings ‚Üí Secrets/Environment Variables
- Deve ter `SUPABASE_SERVICE_ROLE_KEY` configurada
- O valor deve ser a **service_role** key (n√£o a anon key)

---

## üîß SOLU√á√ÉO: Deploy Manual

Se a fun√ß√£o n√£o existir ou estiver com problema:

1. **Criar Nova Fun√ß√£o**:
   - Supabase Dashboard ‚Üí Edge Functions ‚Üí **"New Function"**
   - Nome: `create-user` (exatamente assim)
   - Cole TODO o c√≥digo do arquivo `supabase/functions/create-user/index.ts`

2. **Configurar Vari√°veis**:
   - Settings ‚Üí Add Secret
   - Name: `SUPABASE_SERVICE_ROLE_KEY`
   - Value: (sua service_role key)

3. **Deploy**:
   - Clique em **"Deploy"** ou **"Save and Deploy"**

---

## üß™ TESTAR

Ap√≥s deploy, tente criar um usu√°rio novamente. Se ainda der 404:

1. Verifique o nome da fun√ß√£o novamente
2. Verifique se est√° deployada (status "Active")
3. Tente fazer "Redeploy" da fun√ß√£o

---

## ‚ö†Ô∏è NOTA IMPORTANTE

Se ainda n√£o funcionar ap√≥s seguir todos os passos, pode ser que o Supabase esteja com algum problema tempor√°rio. Nesse caso, voc√™ pode:

1. Deletar a fun√ß√£o existente
2. Criar uma nova fun√ß√£o com o mesmo nome
3. Colar o c√≥digo novamente
4. Fazer deploy

